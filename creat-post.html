<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="assets/img/logo.png" type="image/x-icon">
    <title>eINFO - Post News</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
    .news-form-wrapper {
        width: 100%;
        max-width: 500px;
        margin: 0 auto;
        padding: 20px;
        box-sizing: border-box;
    }
    .news-image-container {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }
    .news-image-uploader {
        width: 150px;
        height: 150px;
        border: 2px solid #00adef;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 10px;
    }
    .news-image-uploader input[type="file"] {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
    }
    .news-upload-icon {
        color: #00adef;
        font-size: 40px;
        margin-bottom: 10px;
    }
    .news-upload-text {
        color: #00adef;
        font-size: 14px;
        text-align: center;
    }
    .news-preview-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 10px;
        z-index: 1;
    }
    .news-image-uploader:hover {
        border-color: #0496d0;
    }
    .news-image-uploader:hover .news-upload-icon,
    .news-image-uploader:hover .news-upload-text {
        color: #0496d0;
    }
    .news-remove-btn {
        position: absolute;
        top: 5px;
        right: 5px;
        background: rgba(0,0,0,0.5);
        color: white;
        border-radius: 50%;
        width: 25px;
        height: 25px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 2;
        display: none;
    }
    .news-image-uploader:hover .news-remove-btn {
        display: flex;
    }
    .news-category-wrapper {
        position: relative;
        width: 100%;
        margin-bottom: 1rem;
    }
    .news-category-field {
        width: 100%;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        color: #212529;
        background-color: #fff;
        background-clip: padding-box;
        border: 1px solid #ced4da;
        appearance: none;
        border-radius: 0.375rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    .news-category-field:focus {
        color: #212529;
        background-color: #fff;
        border-color: #86b7fe;
        outline: 0;
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }
    .news-suggestions-list {
        max-height: 200px;
        overflow-y: auto;
        display: none;
        border: 1px solid #dee2e6;
        border-top: none;
        position: absolute;
        width: 100%;
        z-index: 1000;
        background-color: white;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .news-suggestion-item {
        padding: 10px;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }
    .news-suggestion-item:hover {
        background-color: #f8f9fa;
    }
    /* Fix for main-content width issues */
    .main-content {
        width: 100%;
        max-width: 100%;
        padding: 0;
        box-sizing: border-box;
    }
    
    /* Dark mode styles for body and main content */
    body.dark-mode {
        background-color: #121212;
        color: #e0e0e0;
    }
    
    body.dark-mode .main-content {
        background-color: #121212;
    }
    .news-title-field {
        margin-bottom: 1rem;
    }
    .news-content-area {
        margin-bottom: 1rem;
    }
    .news-submit-btn {
        display: block;
        width: 100%;
        padding: 0.5rem 1rem;
        background-color: #00adef;
        color: white;
        border: none;
        border-radius: 0.375rem;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }
    .news-submit-btn:hover {
        background-color: #0496d0;
    }
    body.dark-mode .news-category-field,
    body.dark-mode .news-suggestions-list,
    body.dark-mode .form-control,
    body.dark-mode textarea {
        background-color: #2d2d2d;
        color: #e0e0e0;
        border-color: #333;
    }
    body.dark-mode .news-suggestion-item {
        background-color: #1e1e1e;
        color: #e0e0e0;
    }
    body.dark-mode .news-suggestion-item:hover {
        background-color: #2a2a2a;
    }
    body.dark-mode .news-upload-icon,
    body.dark-mode .news-upload-text {
        color: #00c3f7;
    }
    body.dark-mode .news-image-uploader {
        border-color: #00c3f7;
        background-color: #1e1e1e;
    }
    body.dark-mode .page-title {
        color: #e0e0e0;
    }
    </style>
</head>
<body>
    <!-- Nav -->
    <nav class="custom-nav shadow-sm" id="mainNav">
        <div class="custom-container">
            <ul class="nav-list">
                <li class="nav-item logo-container">
                    <a href="index.html">
                        <img class="mylogo" id="siteLogo" src="assets/img/logo.png" alt="eINFO Logo">
                    </a>
                </li>
                <li class="nav-item"><a href="phonebook.html"><i class="fas fa-address-book"></i></a></li>
                <li class="nav-item"><a href="newsfeed.html"><i class="fas fa-newspaper"></i></a></li>
                <li class="nav-item"><a href="marketplace.html"><i class="fas fa-shopping-bag"></i></a></li>
                <li class="nav-item active"><a href="account.html"><i class="fas fa-user"></i></a></li>
            </ul>
        </div>
    </nav>
    
    <!-- Main Content -->
    <div class="main-content" style="max-width: 100%; padding: 0;">
        <div class="news-form-wrapper">
            <h1 class="page-title text-center mb-4">Create a News</h1>
            
            <form id="newsPostForm">
                <!-- News Image Upload -->
                <div class="news-image-container">
                    <div class="news-image-uploader">
                        <input type="file" id="newsImageFile" accept="image/*">
                        <div class="news-remove-btn">
                            <i class="fas fa-times"></i>
                        </div>
                        <i class="fas fa-cloud-upload-alt news-upload-icon"></i>
                        <div class="news-upload-text">Upload Image</div>
                        <img class="news-preview-image" src="" alt="News Image Preview" style="display:none;">
                    </div>
                </div>
                
                <!-- News Title Input -->
                <div class="news-title-field">
                    <input type="text" class="form-control" id="newsTitleInput" placeholder="News Title" required>
                </div>
                
                <!-- Category Input with Suggestions -->
                <div class="news-category-wrapper">
                    <input type="text" class="news-category-field" id="newsCategoryInput" placeholder="Category" required>
                    <div class="news-suggestions-list" id="newsCategorySuggestions"></div>
                </div>
                
                <!-- News Content Input -->
                <div class="news-content-area">
                    <textarea class="form-control" id="newsContentInput" placeholder="News Content" rows="5" required></textarea>
                </div>
                
                <!-- Submit Button -->
                <button type="submit" class="news-submit-btn" id="newsSubmitButton">Post</button>
            </form>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="custom-container">
        <div class="footer-div">
            <ul>
                <li><a href="#">About</a></li>
                <li><a href="#">Terms</a></li>
                <li><a href="#">Privacy</a></li>
                <li class="dropdown">
                    <a href="#" class="more-link">More</a>
                    <div class="dropdown-menu">
                        <a href="admin-login.html">Admin</a>
                        <a href="ad.html">Ad</a>
                    </div>
                </li>
            </ul>
        </div>
    </footer>
    
    <style>
    /* Footer Dropdown Fix */
    .footer-div .dropdown {
        position: relative;
    }
    
    .footer-div .dropdown-menu {
        display: none;
        position: absolute;
        bottom: 100%;
        left: 0;
        background-color: white;
        min-width: 120px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        z-index: 10;
        border-radius: 4px;
        padding: 8px 0;
    }
    
    .footer-div .dropdown-menu a {
        display: block;
        padding: 8px 15px;
        color: #333;
        text-decoration: none;
    }
    
    .footer-div .dropdown-menu a:hover {
        background-color: #f5f5f5;
    }
    
    .footer-div .dropdown:hover .dropdown-menu {
        display: block;
    }
    
    body.dark-mode .footer-div .dropdown-menu {
        background-color: #1e1e1e;
    }
    
    body.dark-mode .footer-div .dropdown-menu a {
        color: #e0e0e0;
    }
    
    body.dark-mode .footer-div .dropdown-menu a:hover {
        background-color: #2a2a2a;
    }
    </style>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Check for dark mode and apply it
        const darkModeEnabled = localStorage.getItem('darkMode') === 'enabled';
        if (darkModeEnabled) {
            document.body.classList.add('dark-mode');
        }
        // Image upload preview
        const imageUpload = document.getElementById('newsImageFile');
        const previewImage = document.querySelector('.news-preview-image');
        const removeImageBtn = document.querySelector('.news-remove-btn');
        const uploadIcon = document.querySelector('.news-upload-icon');
        const uploadText = document.querySelector('.news-upload-text');
        
        imageUpload.addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                    previewImage.style.display = 'block';
                    uploadIcon.style.display = 'none';
                    uploadText.style.display = 'none';
                    removeImageBtn.style.display = 'flex';
                }
                
                reader.readAsDataURL(file);
            }
        });
        
        removeImageBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            imageUpload.value = '';
            previewImage.src = '';
            previewImage.style.display = 'none';
            uploadIcon.style.display = 'block';
            uploadText.style.display = 'block';
            removeImageBtn.style.display = 'none';
        });
        
        // Category suggestions
        const categoryInput = document.getElementById('newsCategoryInput');
        const categorySuggestList = document.getElementById('newsCategorySuggestions');
        
        const categories = [
            "Breaking News", "Politics", "Business", "Technology", 
            "Sports", "Entertainment", "Health", "Science", 
            "Education", "Environment", "World", "Local"
        ];
        
        // Show all suggestions when clicking on the field
        categoryInput.addEventListener('click', function() {
            showAllSuggestions();
        });
        
        // Also filter suggestions when typing
        categoryInput.addEventListener('input', function() {
            const inputVal = this.value.trim().toLowerCase();
            
            if (inputVal.length > 0) {
                // Filter categories based on input
                const filteredCategories = categories.filter(cat => 
                    cat.toLowerCase().includes(inputVal)
                );
                
                updateSuggestionsList(filteredCategories);
            } else {
                showAllSuggestions();
            }
        });
        
        function showAllSuggestions() {
            updateSuggestionsList(categories);
        }
        
        function updateSuggestionsList(items) {
            // Create suggestion list
            categorySuggestList.innerHTML = '';
            
            if (items.length > 0) {
                items.forEach(cat => {
                    const div = document.createElement('div');
                    div.className = 'news-suggestion-item';
                    div.textContent = cat;
                    div.addEventListener('click', function() {
                        categoryInput.value = cat;
                        categorySuggestList.style.display = 'none';
                    });
                    categorySuggestList.appendChild(div);
                });
                
                categorySuggestList.style.display = 'block';
            } else {
                categorySuggestList.style.display = 'none';
            }
        }
        
        // Close suggestions when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target !== categoryInput && !categorySuggestList.contains(e.target)) {
                categorySuggestList.style.display = 'none';
            }
        });
        
        // Form submission
        const newsForm = document.getElementById('newsPostForm');
        newsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            // Handle form submission here
            alert('News posted successfully!');
            this.reset();
            previewImage.style.display = 'none';
            uploadIcon.style.display = 'block';
            uploadText.style.display = 'block';
        });
        
        // Initialize dropdown in footer
        const moreLink = document.querySelector('.more-link');
        if (moreLink) {
            moreLink.addEventListener('click', function(e) {
                e.preventDefault();
                const dropdown = this.nextElementSibling;
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            });
        }
    });
    </script>
</body>
</html>